<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nossos Produtos</title>
    <!-- CSS principal (layout e cards) -->
    <link rel="stylesheet" href="style.css">
    <!-- (NOVO) CSS do layout de busca (movido daqui) -->
    <link rel="stylesheet" href="style-busca.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

   
    
</head>
<body>

    <header>
        <h1>Loja Gamer</h1>
            <nav>
                <ul>
                <li><a href="index.html">Início</a></li>
                <li><a href="produtos.html">Produtos</a></li>
                <li><a href="acessorios.html">Acessórios</a></li>
                <li><a href="cadastro.html">Cadastro</a></li>
                </ul>
            </nav>
    </header>

    <!-- O layout principal agora usa 'page-layout' -->
    <main class="container page-layout">
        
        <!-- (NOVO) Barra Lateral Esquerda para Busca -->
        <aside class="sidebar-filtro">
            <div class="filtro-box">
                <h3>Buscar Produtos</h3>
                <input type="text" id="campo-busca" placeholder="Nome do produto...">
                <button id="btn-buscar">Buscar</button>
            </div>
        </aside>

        <section class="conteudo-principal">
            <h2>Todos os Produtos</h2>
            
            <!-- 
              O script.js vai procurar este elemento "produtos" 
              e inserir os cards aqui dentro.
            -->
            <section id="produtos" class="produtos-grid">
                <!-- Mensagem de carregamento (será substituída pelo script) -->
                <p class="loading-message">Carregando produtos...</p>
            </section>
        
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 Meu E-commerce. Todos os direitos reservados.</p>
    </footer>

    <!-- Script principal (deve vir no final) -->
    <script src="script.js"></script>

    <!-- (NOVO) Script para funcionalidade de busca -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const campoBusca = document.getElementById('campo-busca');
            const btnBuscar = document.getElementById('btn-buscar');
            // Busca a seção de produtos dentro do 'conteudo-principal'
            const produtosSection = document.getElementById('produtos');

            // Função que filtra os produtos
            const filtrarProdutos = () => {
                const termo = campoBusca.value.toLowerCase().trim();
                
                // Pega todos os cards que o 'script.js' original carregou
                const cards = produtosSection.getElementsByClassName('card');

                if (cards.length === 0) {
                    console.warn('Filtro: Nenhum card de produto encontrado para filtrar.');
                    return; 
                }

                // Loop por todos os cards e decide se deve exibir ou esconder
                for (let card of cards) {
                    if (card.querySelector('h2')) {
                        const nome = card.querySelector('h2').textContent.toLowerCase();
                        const deveExibir = nome.includes(termo);
                        
                        // O 'style.css' original usa 'display: flex' para os cards
                        // Por isso usamos 'flex' para exibir e 'none' para esconder
                        card.style.display = deveExibir ? 'flex' : 'none';
                    }
                }
            };

            // Adiciona o evento de clique no botão
            if(btnBuscar) {
                btnBuscar.addEventListener('click', filtrarProdutos);
            }

            // Opcional: Adiciona o evento de 'Enter' no campo de texto
            if(campoBusca) {
                campoBusca.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        filtrarProdutos();
                    }
                });
            }
        });
    </script>

</body>
</html>


